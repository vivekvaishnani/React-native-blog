{"version":3,"sources":["commands/client/selectDistributionCert.js"],"names":["selectDistributionCert","context","options","certificates","username","chooseUnrevokedDistributionCert","choices","length","disableAutoSelectExisting","autoselectedCertificate","name","value","disableCreate","push","promptValue","type","message","pageSize","Infinity","generateDistributionCert","credentials","userProvidedCredentials","metadata","distributionCert","distCertSerialNumber","isValid","validateUploadedCertificate","spinner","start","formattedDistCertArray","Credentials","Ios","formatDistCerts","provideFullCertificate","filteredFormattedDistCertArray","filterRevokedDistributionCerts","isValidCert","successMsg","succeed","failureMsg","fail","certsOnExpoServer","getExistingDistCerts","team","id","validCertsOnExpoServer","numValidCerts","numRevokedCerts","statusToDisplay","warn","distributionCerts","distCertManager","appleApi","DistCertManager","certsOnAppleServer","list","validCertSerialsOnAppleServer","filter","cert","expires","Math","floor","Date","now","map","serialNumber","includes","manager","create","e","code","ErrorCodes","APPLE_DIST_CERTS_TOO_MANY_GENERATED_ERROR","log","answer","key","revoke","Error"],"mappings":"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","file":"../../../commands/client/selectDistributionCert.js","sourceRoot":"/expo-cli@3.9.1/src"}