{"version":3,"sources":["commands/client/selectPushKey.js"],"names":["selectPushKey","context","options","pushKeys","username","chooseUnrevokedPushKey","choices","length","disableAutoSelectExisting","autoselectedPushkey","name","value","disableCreate","push","promptValue","type","message","pageSize","Infinity","generatePushKey","pushKey","credentials","isValid","validateUploadedPushKey","spinner","start","formattedPushKeyArray","Credentials","Ios","formatPushKeys","provideFullPushKey","filteredFormattedPushKeyArray","filterRevokedPushKeys","isValidPushKey","successMsg","succeed","failureMsg","fail","pushKeysOnExpoServer","getExistingPushKeys","team","id","validPushKeysOnExpoServer","numValidKeys","numRevokedKeys","statusToDisplay","warn","pushKeyManager","appleApi","PushKeyManager","pushKeysOnAppleServer","list","validKeyIdsOnAppleServer","map","filter","apnsKeyId","includes","manager","create","e","code","ErrorCodes","APPLE_PUSH_KEYS_TOO_MANY_GENERATED_ERROR","keys","log","answer","key","revoke","Error"],"mappings":"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","file":"../../../commands/client/selectPushKey.js","sourceRoot":"/expo-cli@3.9.1/src"}