{"version":3,"sources":["commands/build/ios/IOSBuilder.js"],"names":["IOSBuilder","BaseBuilder","run","validateProject","checkForBuildInProgress","options","type","prepareCredentials","publishedExpIds","ensureProjectIsPublished","publicUrl","checkStatusBeforeBuild","build","bundleIdentifier","manifest","sdkVersion","validateIcon","XDLError","utils","checkIfSdkIsSupported","PLATFORMS","IOS","getAppleCtx","appleCtx","apple","setup","authenticate","username","owner","user","projectMetadata","experienceName","slug","clearAndRevokeCredentialsIfRequested","existingCredentials","credentials","fetch","missingCredentials","determineMissingCredentials","produceMissingCredentials","clearCredentials","clearDistCert","clearPushKey","clearPushCert","clearProvisioningProfile","shouldClearAnything","credsToClear","clearCredentialsIfRequested","revokeCredentials","revoke","Object","keys","determineCredentialsToClear","clear","credsToClearAll","distributionCert","Boolean","pushKey","pushCert","provisioningProfile","metadata","includes","constants","PROVISIONING_PROFILE","DISTRIBUTION_CERT","distCertSerialNumber","getDistributionCertSerialNumber","userCredentialsIds","userProvidedCredentials","toGenerate","metadataFromPrompt","prompt","assign","generatedCredentials","generate","newCredentials","teamId","team","id","update","undefined","ensureReleaseExists","platform","icon","err"],"mappings":"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","file":"../../../../commands/build/ios/IOSBuilder.js","sourceRoot":"/expo-cli@3.9.1/src"}