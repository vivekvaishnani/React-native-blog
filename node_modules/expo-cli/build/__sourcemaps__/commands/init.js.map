{"version":3,"sources":["commands/init.ts"],"names":["FEATURED_TEMPLATES","shortName","name","description","bare","BARE_WORKFLOW_TEMPLATES","action","projectDir","options","parentDir","dirName","root","path","resolve","dirname","basename","validationResult","validateName","CommandError","parent","nonInteractive","process","cwd","templateSpec","template","registry","escapedName","raw","descriptionColumn","Math","max","map","t","length","type","message","pageSize","choices","prompt","separator","value","chalk","bold","stdout","columns","short","nonInteractiveHelp","filter","text","join","workflow","log","warn","initialConfig","templateManifest","pacote","manifest","isBare","includes","promptForBareConfig","promptForManagedConfig","packageManager","yarn","npm","shouldUseYarnAsync","projectPath","Exp","extractAndInitializeTemplateApp","expo","slug","cdPath","relative","nested","test","dir","isNonExistentOrEmptyDir","validateProjectName","fs","statSync","isDirectory","readdirSync","error","code","version","trim","semver","valid","answer","useYarn","e","projectName","undefined","displayName","values","Snippet","required","fields","initial","validate","JSON","stringify","run","program","command","alias","option","asyncAction"],"mappings":"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","file":"../../commands/init.js","sourceRoot":"/expo-cli@3.9.1/src"}