import Joi from '@hapi/joi';

import { BuildType } from '../../../constants';
import { BaseAndroidJob, BaseAndroidJobSchema } from '../baseJob';

interface ManagedAndroidJob extends BaseAndroidJob {
  type: BuildType.Managed;
  packageJson: any;
  manifest: any;
}

const ManagedAndroidJobSchema = BaseAndroidJobSchema.concat(
  Joi.object().keys({
    type: Joi.string().valid(BuildType.Managed),
    packageJson: Joi.object().unknown(true).required(),
    manifest: Joi.object().unknown(true).required(),
  }),
);

export { ManagedAndroidJob, ManagedAndroidJobSchema };
