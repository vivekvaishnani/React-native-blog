import Joi from '@hapi/joi';

import { BuildType } from '../../../constants';
import { BaseiOSJob, BaseiOSJobSchema } from '../baseJob';

interface ManagediOSJob extends BaseiOSJob {
  type: BuildType.Managed;
  packageJson: any;
  manifest: any;
}

const ManagediOSJobSchema = BaseiOSJobSchema.concat(
  Joi.object().keys({
    type: Joi.string().valid(BuildType.Managed),
    packageJson: Joi.object().unknown(true).required(),
    manifest: Joi.object().unknown(true).required(),
  }),
);

export { ManagediOSJob, ManagediOSJobSchema };
