import Joi from '@hapi/joi';

import { BuildType } from '../../../constants';
import { BaseiOSJob, BaseiOSJobSchema } from '../baseJob';

interface GenericiOSJob extends BaseiOSJob {
  type: BuildType.Generic;
  outputName: string;
  artifactPath: string;
}

const GenericiOSJobSchema = BaseiOSJobSchema.concat(
  Joi.object().keys({
    type: Joi.string().valid(BuildType.Generic),
    outputName: Joi.string().default('TurtleExpoApp'),
    artifactPath: Joi.string().default('./ios/build/TurtleExpoApp.ipa'),
  }),
);

export { GenericiOSJob, GenericiOSJobSchema };
