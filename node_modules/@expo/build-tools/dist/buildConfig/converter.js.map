{"version":3,"file":"converter.js","sourceRoot":"","sources":["../../src/buildConfig/converter.ts"],"names":[],"mappings":";;;;;AAAA,wDAA0B;AAM1B,KAAK,UAAU,4BAA4B,CAAC,WAAwB;IAClE,MAAM,kBAAkB,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;IAClG,MAAM,QAAQ,GAAG;QACf,GAAG,WAAW,CAAC,OAAO,CAAC,QAAQ;QAC/B,kBAAkB;KACnB,CAAC;IACF,MAAM,qBAAqB,GAAG;QAC5B,QAAQ;KACT,CAAC;IACF,OAAO,qBAAqB,CAAC;AAC/B,CAAC;AAeQ,oEAA4B;AAbrC,KAAK,UAAU,wBAAwB,CAAC,WAAwB;IAC9D,MAAM,uBAAuB,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;IACrG,MAAM,2BAA2B,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC9G,MAAM,iBAAiB,GAAG;QACxB,yBAAyB,EAAE,uBAAuB;QAClD,uBAAuB,EAAE;YACvB,UAAU,EAAE,2BAA2B;YACvC,QAAQ,EAAE,WAAW,CAAC,GAAG,CAAC,uBAAuB,CAAC,QAAQ;SAC3D;KACF,CAAC;IACF,OAAO,iBAAiB,CAAC;AAC3B,CAAC;AAEsC,4DAAwB","sourcesContent":["import fs from 'fs-extra';\n\nimport * as Android from '../platforms/android';\nimport * as iOS from '../platforms/ios';\nimport { BuildConfig } from './types';\n\nasync function prepareAndroidJobCredentials(credentials: BuildConfig): Promise<Android.Credentials> {\n  const keystoreDataBase64 = await fs.readFile(credentials.android.keystore.keystorePath, 'base64');\n  const keystore = {\n    ...credentials.android.keystore,\n    keystoreDataBase64,\n  };\n  const androidJobCredentials = {\n    keystore,\n  };\n  return androidJobCredentials;\n}\n\nasync function prepareiOSJobCredentials(credentials: BuildConfig): Promise<iOS.Credentials> {\n  const provisioningProfileData = await fs.readFile(credentials.ios.provisioningProfilePath, 'base64');\n  const distributionCertificateData = await fs.readFile(credentials.ios.distributionCertificate.path, 'base64');\n  const iOSJobCredentials = {\n    provisioningProfileBase64: provisioningProfileData,\n    distributionCertificate: {\n      dataBase64: distributionCertificateData,\n      password: credentials.ios.distributionCertificate.password,\n    },\n  };\n  return iOSJobCredentials;\n}\n\nexport { prepareAndroidJobCredentials, prepareiOSJobCredentials };\n"]}