{"version":3,"file":"gymfile.js","sourceRoot":"","sources":["../../../../src/platforms/ios/utils/gymfile.ts"],"names":[],"mappings":";;;;;AAAA,gDAAwB;AAExB,oDAA4B;AAC5B,wDAA0B;AAI1B,MAAM,kBAAkB,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,wCAAwC,CAAC,CAAC;AAQ1F,KAAK,UAAU,iBAAiB,CAC9B,WAAwB,EACxB,EAAE,sBAAsB,EAAE,UAAU,EAAE,eAAe,EAAkB;IAEvE,MAAM,UAAU,GAAG,cAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC;IAEhE,IAAI,MAAM,kBAAE,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;QACnC,OAAO,KAAK,CAAC;KACd;SAAM;QACL,MAAM,gBAAM,CAAC;YACX,YAAY,EAAE,kBAAkB;YAChC,UAAU;YACV,OAAO,EAAE;gBACP,IAAI,EAAE;oBACJ,EAAE,IAAI,EAAE,mBAAmB,EAAE,KAAK,EAAE,WAAW,CAAC,gBAAgB,EAAE;oBAClE,EAAE,IAAI,EAAE,2BAA2B,EAAE,KAAK,EAAE,WAAW,CAAC,uBAAuB,EAAE;oBACjF,EAAE,IAAI,EAAE,eAAe,EAAE,KAAK,EAAE,WAAW,CAAC,YAAY,EAAE;oBAC1D,EAAE,IAAI,EAAE,kBAAkB,EAAE,KAAK,EAAE,eAAe,EAAE;oBACpD,EAAE,IAAI,EAAE,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE;iBAC3C;gBACD,MAAM,EAAE,YAAY;aACrB;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAEQ,8CAAiB","sourcesContent":["import path from 'path';\n\nimport envsub from 'envsub';\nimport fs from 'fs-extra';\n\nimport { Credentials } from '../credentials';\n\nconst TEMPLATE_FILE_PATH = path.join(__dirname, '../../../../templates/Gymfile.template');\n\ninterface GymfileOptions {\n  nativeProjectDirectory: string;\n  outputName: string;\n  outputDirectory: string;\n}\n\nasync function createIfNotExists(\n  credentials: Credentials,\n  { nativeProjectDirectory, outputName, outputDirectory }: GymfileOptions,\n) {\n  const outputFile = path.join(nativeProjectDirectory, 'Gymfile');\n\n  if (await fs.pathExists(outputFile)) {\n    return false;\n  } else {\n    await envsub({\n      templateFile: TEMPLATE_FILE_PATH,\n      outputFile,\n      options: {\n        envs: [\n          { name: 'BUNDLE_IDENTIFIER', value: credentials.bundleIdentifier },\n          { name: 'PROVISIONING_PROFILE_UUID', value: credentials.provisioningProfileUUID },\n          { name: 'KEYCHAIN_PATH', value: credentials.keychainPath },\n          { name: 'OUTPUT_DIRECTORY', value: outputDirectory },\n          { name: 'OUTPUT_NAME', value: outputName },\n        ],\n        syntax: 'handlebars',\n      },\n    });\n    return true;\n  }\n}\n\nexport { createIfNotExists };\n"]}